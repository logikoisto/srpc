# 设计
## 协议
1. 序列化:  使用`protobuf`进行序列化
2. 消息边界:消息前四个字节规定为消息的长度,基于消息长度读取一个消息单元。
3. 消息结构:消息内容由消息头与消息体组成,消息头中标示调用的函数path以便于解析路由找到所对应的函数。
4. 压缩算法:目前不支持

## 并发模型
* 多协程事件驱动模型,多个`eventloop`可发挥并行优势(目前仅支持`epoll`).
* 与CPU核数相同的主协程`accept`TCP连接,并注册到独立的epoll对象中,每个独立的epoll对象对应一个`eventloop`,实现多协程多核事件循环。
* 每个事件循环非阻塞的读取数据,异步的处理处理逻辑,异步的写回客户端。

## 编解码器
*  `eventloop` 异步执行处理逻辑,根据协议格式解码消息序列化为约定的RPC对象,利用反射构建的函数与协议path的对应映射关系,调用相应的执行函数
*  目前仅支持同步调用RPC服务